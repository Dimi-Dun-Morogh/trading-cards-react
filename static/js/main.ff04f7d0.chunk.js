(this["webpackJsonptrading-cards"]=this["webpackJsonptrading-cards"]||[]).push([[0],{25:function(e,t,r){},32:function(e,t,r){},34:function(e,t,r){},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(1),c=r.n(a),s=r(5),o=r.n(s),i=(r(25),r(3)),u=(r(32),r(11)),l=r.n(u),d=r(13),b="SET_CARD_DATA",m="TOGGLE_MODAL",h="SET_CURRENT_ITEM",j="GET_CHEAPEST",f=function(){var e=Object(d.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(e){return e.json()}));case 2:r=e.sent,t({type:b,payload:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return{type:m,payload:e}},O=r(2),v=r(6);r(34);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y=a.createElement("path",{d:"M4.16663 10H15.8333",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),w=a.createElement("path",{d:"M10 4.16666L15.8333 10L10 15.8333",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});function N(e,t){var r=e.title,n=e.titleId,c=g(e,["title","titleId"]);return a.createElement("svg",x({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),r?a.createElement("title",{id:n},r):null,y,w)}var S=a.forwardRef(N),I=(r.p,function(e){var t=e.text,r=e.square,a=e.style,c=e.arrow,s=e.inverted,o=Object(v.a)(e,["text","square","style","arrow","inverted"]);return Object(n.jsxs)("button",Object(O.a)(Object(O.a)({className:"".concat(r?"square":s?"inverted":""," custom-button"),style:a},o),{},{children:[" ",t,c?Object(n.jsx)("span",{className:"button-arrow",children:Object(n.jsx)(S,{})}):null]}))}),k=(r(35),Object(i.b)(null,(function(e){return{showModal:function(t){return e(p(t))},setItem:function(t){return e({type:h,payload:t})}}}))((function(e){var t=e.card,r=e.showModal,a=e.setItem;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"card-item",children:[Object(n.jsx)("span",{className:"card-item-category",children:t.category}),Object(n.jsx)("span",{className:"card-item-name",children:t.name}),Object(n.jsxs)("div",{className:"card-item-footer",children:[Object(n.jsx)("span",{children:"$"}),Object(n.jsxs)("span",{className:"card-item-price",children:[t.price," "]}),Object(n.jsx)(I,{onClick:function(){a(t),r(!0)},text:"buy",square:!0,style:{marginLeft:"auto"}})]})]})})}))),E=(r(36),Object(i.b)((function(e){return{cards:e.cardsStore.cards}}),(function(e){return{getCheap:function(){return e((console.log("action"),{type:j}))},modalShow:function(t){return e(p(t))}}}))((function(e){var t=e.cards,r=e.getCheap,a=e.modalShow;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"cards-wrap",children:t.map((function(e,t){return Object(n.jsx)(k,{card:e},t.toString())}))}),Object(n.jsx)(I,{text:"buy cheapest",inverted:!0,style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"235px",height:"60px",fontWeight:"bold",fontSize:"24px",marginBottom:"20px"},onClick:function(){r(),a(!0)}})]})}))),C=(r(37),r(38),Object(i.b)(null,(function(e){return{closeModal:function(t){return e(p(t))}}}))((function(e){var t=e.show,r=e.children,a=e.closeModal;return t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"modal-bg",children:" "}),Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsx)("span",{className:"close-modal",onClick:function(){return a(!1)},children:"\u2716"}),r]})]}):null}))),M=r(14),L=r(15),T=r(19),V=r(17);var q=/^[0-9]+$/;r(39);var A=function(e){var t=e.success,r=e.error,a=(e.children,Object(v.a)(e,["success","error","children"]));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"input-wrap",children:[Object(n.jsx)("input",Object(O.a)(Object(O.a)({type:"text"},a),{},{className:"".concat(t?"success":""," ").concat(r.length?"error":"")})),Object(n.jsx)("span",{className:"".concat(r.length?"":"hide"," error-x"),children:"\u2716"})]}),r.map((function(e,t){return Object(n.jsx)("span",{className:"input-error",children:e.error},t.toString())}))]})},_=(r(40),{button:{width:"100%",height:"56px",marginTop:"16px",fontSize:"16px",fontWeight:"bold"}}),B=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(M.a)(this,r),(n=t.call(this,e)).handleInputValidation=function(e){var t=e.name,r=function(e,t){var r=[];switch(e){case"name":return t||r.push({label:"name",error:"Name is required"}),/\d/.test(t)&&r.push({label:"name",error:"Name should not include numbers"}),r;case"number":return t||r.push({label:"number",error:"number is required"}),(t.length<12||t.length>12)&&r.push({label:"number",error:"Should contain 12 characters, no more no less"}),t.match(q)||r.push({label:"number",error:"Only numbers allowed"}),r;default:return r}}(t,e.value.trim()),a=n.state,c=a.errors,s=a.success;s[t]=!r.length,c[t]=r,n.setState({errors:c,success:s})},n.validateOnblur=function(e){n.setState({isValid:!1});var t=e.target,r=t.name,a=t.value;n.handleInputValidation({name:r,value:a})},n.handleInput=function(e){var t=e.target,r=t.name,a=t.value,c=n.state,s=c.form,o=c.errors;s[r]=a.trim(),o[r]=[],n.setState({form:s,errors:o})},n.handleSubmit=function(e){e.preventDefault(),n.handleInputValidation({name:"name",value:n.state.form.name}),n.handleInputValidation({name:"number",value:n.state.form.number});var t=n.state.errors,r=t.name,a=t.number;r.length||a.length||(n.setState({isValid:!0}),console.log(n.state.form))},n.state={form:{name:"",number:""},errors:{name:[],number:[]},success:{name:!1,number:!1},isValid:!1},n}return Object(L.a)(r,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)(A,{type:"text",name:"name",placeholder:"Name",error:this.state.errors.name,success:this.state.success.name,onChange:function(t){return e.handleInput(t)},onBlur:function(t){return e.validateOnblur(t)}}),Object(n.jsx)(A,{type:"text",name:"number",placeholder:"Number",error:this.state.errors.number,success:this.state.success.number,onChange:function(t){return e.handleInput(t)},onBlur:function(t){return e.validateOnblur(t)}}),Object(n.jsx)(I,{inverted:!0,arrow:this.state.isValid,text:"order",style:_.button})]})}}]),r}(c.a.Component),R=Object(i.b)((function(e){return{currentItem:e.cardsStore.currentItem}}))((function(e){var t=e.show,r=e.currentItem;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(C,{show:t,children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"modal-card",children:[Object(n.jsx)("span",{className:"modal-card-category",children:r.category}),Object(n.jsx)("span",{className:"modal-card-name ",children:r.name}),Object(n.jsxs)("div",{className:"modal-card-footer",children:[Object(n.jsx)("span",{children:"$"}),Object(n.jsx)("span",{className:"modal-card-item-price",children:r.price})]})]}),Object(n.jsx)(B,{})]})})})}));var D=Object(i.b)((function(e){return{showModal:e.cardsStore.showModal}}),(function(e){return{getCards:function(){return e(f)}}}))((function(e){var t=e.getCards,r=e.showModal;return Object(a.useEffect)((function(){t()}),[]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(R,{show:r}),Object(n.jsx)(E,{})]})})),F=r(4),P=r(16),W=r(18),G=function(e){return Object(W.a)(e).sort((function(e,t){return e.price-t.price})).shift()},$={cards:[],showModal:!1,currentItem:{}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(O.a)(Object(O.a)({},e),{},{cards:t.payload});case m:return Object(O.a)(Object(O.a)({},e),{},{showModal:t.payload});case h:return Object(O.a)(Object(O.a)({},e),{},{currentItem:t.payload});case j:return console.log("reducer"),Object(O.a)(Object(O.a)({},e),{},{currentItem:G(e.cards)});default:return e}},H=Object(F.c)({cardsStore:z}),J=[P.a],U=Object(F.d)(H,F.a.apply(void 0,J));o.a.render(Object(n.jsx)(i.a,{store:U,children:Object(n.jsx)(D,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.ff04f7d0.chunk.js.map